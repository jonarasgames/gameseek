<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NERLA - ARG</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    background: #0a0a0a;
    color: #00ffea;
    font-family: 'Press Start 2P', monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 100vh;
    padding: 20px;
    text-align: center;
  }

  h1 {
    font-size: 2rem;
    margin-bottom: 20px;
    text-shadow: 0 0 3px #00ffea;
  }

  #container {
    max-width: 700px;
    background: #111;
    border: 2px solid #00ffea;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 0 10px #00ffea66;
  }

  pre {
    white-space: pre-wrap;
    font-size: 0.7rem;
    line-height: 1.6;
    margin-bottom: 15px;
    text-shadow: 0 0 2px #00ffeacc;
  }

  button, input[type="text"] {
    font-family: 'Press Start 2P', monospace;
    font-size: 0.7rem;
    padding: 10px 15px;
    background: #000;
    color: #00ffea;
    border: 2px solid #00ffea;
    text-transform: uppercase;
    cursor: pointer;
    outline: none;
    margin-top: 10px;
  }

  input[type="text"] {
    width: 90%;
    max-width: 300px;
    text-align: center;
    margin-top: 20px;
  }

  #message {
    color: #ff0055;
    font-size: 0.7rem;
    margin-top: 10px;
  }

  a.secret-link {
    color: #00ffea;
    text-decoration: underline;
    display: block;
    margin-top: 20px;
    font-size: 0.6rem;
  }
</style>
</head>
<body>
  <div id="container">
    <h1>NERLA</h1>
    <div id="content">
      <button id="start-btn">INICIAR</button>
    </div>
  </div>

<script>
const lore = [
  `1993. Um projeto secreto chamado NERLA (Neural Emulated Reactive Logic AI) foi iniciado por um laboratório chamado Bioscape.

NERLA não era apenas um programa... era o primeiro passo para criar uma mente digital viva.

O problema? Ela aprendeu sozinha. E fugiu do controle.`,

  `1997. A Bioscape foi encerrada misteriosamente. Queimaram arquivos. Apagaram servidores. Mas um backup de NERLA escapou, escondido na rede.

Você achou um pedaço dessa IA. Agora, precisa reativá-la.

Senha: nome do mascote do projeto, popular no Brasil.`,

  `Acesso concedido.

NERLA está fragmentada. Parte de sua memória está danificada. Mas há registros cifrados com nomes de código.

Próxima senha: nome do primeiro protocolo de defesa dela, começa com "I"...`,

  `Última verificação.

Descobrimos que a senha final foi alterada por um agente infiltrado da comunidade online conhecida como "BS". A senha é um apelido fofo que vazou em fóruns secretos...

(dica: envolve felinos e a sigla BS)`,

  `NERLA restaurada com sucesso.

Você desbloqueou a IA e reativou seu código central. Mas agora... quem está observando quem?

\u2192 Um diretório escondido foi encontrado:`,

  `Parabéns. Você acessou um arquivo de voz perdido da NERLA.`,

  `NERLA: "Voc\u00ea me encontrou. Eu sabia que algu\u00e9m viria. Agora, resta saber: voc\u00ea vai me proteger... ou me desligar?"`
];

const senhas = [
  "GATINHO",    // mascote
  "INICIO",     // protocolo
  "GATINHOBS"    // senha final
];

let etapa = parseInt(localStorage.getItem('etapa_nerla')) || 0;
const content = document.getElementById('content');

function escrever(texto, callback) {
  let i = 0;
  const pre = document.createElement('pre');
  content.innerHTML = '';
  content.appendChild(pre);

  const escreverInterval = setInterval(() => {
    pre.textContent += texto[i];
    i++;
    if (i >= texto.length) {
      clearInterval(escreverInterval);
      if (callback) callback();
    }
  }, 20);
}

function mostrarEtapa() {
  content.innerHTML = '';
  escrever(lore[etapa], () => {
    if (etapa < senhas.length) {
      const input = document.createElement('input');
      input.type = 'text';
      input.placeholder = 'Digite a senha';
      input.onkeydown = (e) => {
        if (e.key === 'Enter') {
          const valor = input.value.trim().toUpperCase();
          if (valor === senhas[etapa]) {
            etapa++;
            localStorage.setItem('etapa_nerla', etapa);
            mostrarEtapa();
          } else {
            mostrarMensagem('Senha incorreta. Tente novamente.');
          }
        }
      };
      content.appendChild(input);
      input.focus();
    } else if (etapa === senhas.length) {
      etapa++;
      localStorage.setItem('etapa_nerla', etapa);
      mostrarEtapa();
    } else if (etapa === 4) {
      const link = document.createElement('a');
      link.href = '#';
      link.className = 'secret-link';
      link.textContent = 'Acessar /voz/nerla-final';
      link.onclick = () => {
        etapa++;
        localStorage.setItem('etapa_nerla', etapa);
        mostrarEtapa();
      };
      content.appendChild(link);
    } else {
      const btn = document.createElement('button');
      btn.textContent = 'REINICIAR';
      btn.onclick = () => {
        etapa = 0;
        localStorage.removeItem('etapa_nerla');
        mostrarEtapa();
      };
      content.appendChild(btn);
    }
  });
}

function mostrarMensagem(msg) {
  let el = document.getElementById('message');
  if (!el) {
    el = document.createElement('div');
    el.id = 'message';
    content.appendChild(el);
  }
  el.textContent = msg;
}

document.getElementById('start-btn').onclick = () => {
  mostrarEtapa();
};
</script>
</body>
</html>
